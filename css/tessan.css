/* 
   TESSAN THEME - v3.0 (Fixed Specificity & Layout)
*/

:root {
  /* Core Palette */
  --bg0: #FBFAF5;          /* Page Background */
  --bg1: #F7F7ED;          /* Gradient Secondary */
  
  --primary: #0F352D;      /* Dark Green */
  --ink: #113632;          /* Text */
  --muted: #4a5b56;        /* Muted Text */
  
  --accent: #FFEE7F;       /* Yellow Accent */
  --accent-light: #FEF9DE; /* Pale Yellow Cards */
  --accent-dark: #FCE855;  /* Hover Yellow */
  
  --card: #FEF9DE;         /* Card Background */
  --stroke: rgba(15, 53, 45, 0.12);
  --shadow: 0 22px 60px rgba(15, 53, 45, 0.08);
}

/* 1. FORCE PAGE BACKGROUND */
body {
  background: var(--bg0) !important;
  background-image: 
    radial-gradient(1200px 800px at 15% 10%, rgba(255, 238, 127, .05), transparent 60%),
    radial-gradient(900px 700px at 80% 15%, rgba(15, 53, 45, .03), transparent 55%) !important;
}

/* 2. FIX TOPBAR OVERLAP (Targeting the actual HTML structure) */
/* This overrides the base.css grid layout */
.topbar-inner, 
.topbar-inner-centered {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: 20px !important;
  max-width: var(--container) !important;
  margin: 0 auto !important;
  padding: 14px 24px !important;
  grid-template-columns: none !important; /* Reset any grid */
}

/* Brand (Left) */
.brand {
  flex: 0 0 auto !important;
  min-width: max-content !important;
  margin-right: auto !important;
}

/* Company Badge (Center) - Absolute Positioning */
.company-badge,
.company-badge-center {
  position: absolute !important;
  left: 50% !important;
  top: 50% !important;
  transform: translate(-50%, -50%) !important;
  z-index: 10 !important;
  background: rgba(255, 255, 255, 0.9) !important;
  border: 1px solid var(--stroke) !important;
  backdrop-filter: blur(10px) !important;
  white-space: nowrap !important;
}

/* Navigation (Right) */
.nav {
  flex: 0 0 auto !important;
  min-width: max-content !important;
  margin-left: auto !important;
  gap: 12px !important;
}

/* Mobile Fix for Topbar */
@media (max-width: 900px) {
  .company-badge,
  .company-badge-center {
    position: relative !important;
    left: auto !important;
    top: auto !important;
    transform: none !important;
    order: 2 !important;
    margin: 10px auto !important;
  }
  
  .topbar-inner, 
  .topbar-inner-centered {
    flex-direction: column !important;
    height: auto !important;
    padding-bottom: 16px !important;
  }
  
  .brand { margin-right: 0 !important; order: 1 !important; }
  .nav { margin-left: 0 !important; order: 3 !important; }
}

/* 3. HERO SECTION (Dark Green Background) */
.hero {
  background-color: var(--primary) !important;
  color: #F1F2F2 !important;
  margin-top: -1px !important; /* Fix any gap */
  padding-bottom: 60px !important;
}

/* Reset panel styles inside hero */
.hero .panel {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
}
.hero .panel::before { display: none !important; }

/* Force White Text in Hero */
.hero h1, 
.hero .subhead,
.hero .headline-grad {
  color: #F1F2F2 !important;
  background: none !important;
  -webkit-text-fill-color: #F1F2F2 !important;
}

.hero .pill {
  background: rgba(255, 255, 255, 0.1) !important;
  border-color: rgba(255, 255, 255, 0.2) !important;
  color: #F1F2F2 !important;
}
.hero .pill i { color: var(--accent) !important; }

/* 4. CARDS (Pale Yellow Background) */
/* Target specific classes used in base.css */
.info, 
.reveal, 
.timeline-content,
.panel:not(.hero .panel) { /* Exclude hero panel */
  background-color: var(--accent-light) !important;
  border: 1px solid var(--stroke) !important;
}

/* Fix timeline arrows color */
.timeline-item.left .timeline-content::before {
  border-right-color: transparent !important;
  border-left-color: var(--accent-light) !important; /* Should be right border for left arrow? No, CSS borders are tricky. */
  border-color: transparent transparent transparent var(--accent-light) !important;
}

.timeline-item.right .timeline-content::before {
  border-color: transparent var(--accent-light) transparent transparent !important;
}

/* 5. BUTTONS */
.btn-primary {
  background-color: var(--accent) !important;
  color: var(--primary) !important;
  box-shadow: 0 4px 12px rgba(255, 238, 127, 0.4) !important;
}

.btn-ghost {
  background: rgba(255, 255, 255, 0.9) !important; /* More visible on dark hero */
  color: var(--primary) !important;
}

/* 6. TIMELINE & DECORATION */
.timeline-date {
  background: var(--primary) !important;
  color: #F1F2F2 !important;
}

.timeline::before {
  background: linear-gradient(180deg, transparent, var(--accent) 5%, var(--primary) 50%, var(--accent) 95%, transparent) !important;
}
